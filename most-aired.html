<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Most Aired Movies</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: black;
            color: white;
        }
        
        .search-container {
        background-color: black;
	display: flex;
	justify-content: center;
	gap: 10px;
	
        
        }
	.search-by-name {
	font-family: Arial Black, sans-serif;

	
	
	}

.search-by-date {
	font-family: Arial Black, sans-serif;	
	}

	.about-this-page {
	font-family: Arial Black, sans-serif;
	background-color: black;
	}
	
	
	.search-by-name a {

	    color: black;
	    text-decoration: none;
	    font-weight: bold;
	    background-color: white;
	    border: 2px solid black;
	    border-radius: 5px;
	    padding: 10px;
	    display: inline-block;
            text-align: center;
            box-sizing: border-box;
	    transition: background-color 0.3s ease;

	}
	
		.about-this-page a {
	    color: black;
	    text-decoration: none;
	    font-weight: bold;
	    background-color: white;
	    border: 2px solid black;
	    border-radius: 5px;
	    padding: 10px;
	    display: inline-block;
            text-align: center;
            box-sizing: border-box;
	    transition: background-color 0.3s ease;
	}
	
	    .search-by-date a {
	    color: black;
	    text-decoration: none;
	    font-weight: bold;
	    background-color: white;
	    border: 2px solid black;
	    border-radius: 5px;
	    padding: 10px;
	    display: inline-block;
            text-align: center;
            box-sizing: border-box;
	    transition: background-color 0.3s ease;

	}

	.search-highlight:hover { background-color: #2060ec; color: white; }
	
	

        header {
            width: 100%;
            text-align: center;
            background-color: black;
            color: white;
            padding: 10px 0;
	    font-size: 28px;
        }
 
.views-container {
    background-color: black;
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 equal columns */
    gap: 10px; /* Space between boxes */
    max-width: 90%; /* Prevents full-screen stretching */
    margin: 0 auto; /* Centers the entire grid */
    justify-content: center; /* Helps center if extra space exists */
}
	.views-display {


             text-align: center;
            box-sizing: border-box;
            margin-bottom: 5px;
	    
        }
	

.views-display a {
    display: block; /* Ensures full clickable area */
    text-decoration: none;
    color: black;
    font-weight: bold;
    background-color: white;
    padding: 10px 15px;
    border: 2px solid black;
    border-radius: 5px;
    text-align: center;
    transition: background-color 0.3s ease;
	    
	}

.current-display a {
    display: block; /* Ensures full clickable area */
    text-decoration: none;
    color: white;
    font-weight: bold;
    background-color: #919191;
    padding: 10px 15px;
    border: 2px solid black;
    border-radius: 5px;
    text-align: center;
    transition: background-color 0.3s ease;
	    
	}
	    
           .text-info-container {
            font-family: Arial, sans-serif;
	    text-align: center;
	    margin: 25px;
	    }

           .footnote-container {
            font-family: Arial, sans-serif;
	    text-align: left;
	    margin: 25px;
	    }

.results-container {
    width: 100%; /* Ensures the container adjusts to screen width */
    overflow-x: auto; /* Enables horizontal scrolling if content is wider */
    margin: 0 auto; /* Centers the container */
}



button#searchButton {
    padding: 5px 10px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}


button#searchButton:hover {
    background-color: #0056b3;
}

/* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
.active, .collapsible:hover {
   background-color: #0056b3;
}

#dataTable {
    max-width: 100%;
    overflow-x: auto; /* Enables horizontal scroll */
    border-collapse: collapse;
    table-layout: auto; /* Lets the table adjust column widths dynamically */

}

th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
    white-space: normal; /* Allows text wrapping within cells */
}

th {
    cursor: default;
    pointer-events: none;
    background-color: #f2f2f2;
    color: black;
}

/* Default column widths for desktop */
th.movies-column, td.movies-column {
    width: 20%; /* You can use percentages */
}
th.ratings-column, td.ratings-column {
    width: 6%;
}
th.runtime-column, td.runtime-column {
    width: 3%;
}
th.words-of-caution-column, td.words-of-caution-column {
    width: 12%;
}
th.description-column, td.description-column {
    width: 50%;
}
th.rankings-column, td.rankings-column {
    width: 3%;   
}

th.most-aired-column, td.most-aired-column {
    width: 3%;   
}

th.times-aired-column, td.times-aired-column {
    width: 3%;
}
th.metadata-column, td.metadata-column {
    width: 0%;
    display: none;
}

#pagination {
    text-align: center;
    margin-top: 20px;
}

#pagination .page-link {
    margin: 0 3px;
    padding: 6px 10px;
    background-color: #eee;
    border: 1px solid black;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

#pagination .page-link:hover {
    background-color: #007BFF;
}

#pagination .page-link.active {
    background-color: #0056b3;
    color: white;
    border-color: #0056b3;
}


/* Responsive adjustments for mobile devices - vertical*/
@media screen and (max-width: 768px) and (orientation: portrait) {
    /* Hide all columns by default */
    th, td {
        display: none;
    }
	picture img {
    	width: 300px;
    	height: auto;
   
}
    /* Show only these 4 columns */
    th.movies-column, td.movies-column {
        display: table-cell;
        width: 55%; /* Adjust width for mobile readability */
	 white-space: normal; /* Allow text wrapping */
    word-break: break-word; /* Allow breaking at word boundaries */
    overflow-wrap: break-word; /* Ensure compatibility with older browsers */
    line-height: 1.5; /* Adjust spacing for readability */
    }
    th.rankings-column, td.rankings-column {
        display: table-cell;
        width: 25%; /* Maintain responsive width */
    white-space: normal; /* Allow text wrapping */
    word-break: break-word; /* Allow breaking at word boundaries */
    overflow-wrap: break-word; /* Ensure compatibility with older browsers */
    line-height: 1.5; /* Adjust spacing for readability */
      
    }
    th.times-aired-column, td.times-aired-column {
        display: table-cell;
        width: 10%;
    }
    th.most-aired-column, td.most-aired-column {
        display: table-cell;
        width: 10%;
    }

            }
	
        
    </style>
</head>
<body>
<div class="search-container">
<div class="search-by-name">
	<span class="search-by-name"><a href="index.html" class="search-highlight">SEARCH BY NAME</a></span>
	</div>
	<div class="about-this-page">
	<span class="about-this-page"><a href="About-this-page.html" class="search-highlight">ABOUT THIS SITE...</a></span>
	</div>
	
	<div class="search-by-date">
	<span class="search-by-date"><a href="Calendar_with_schedule_1980.html" class="search-highlight">SEARCH BY DATE</a></span>

	</div>
	</div> <!--Search Container-->
	<p> </p>

 

<div class="views-container">

	<!-- Categories -->
	<div class="views-display">
            <span class="current-display"><a href="javascript:void(0)" class="current-highlight">All Movies</a></span>
	</div>
	<div class="views-display">
            <span class="views-display"><a href="g-movies.html" class="search-highlight">(G) Movies</a></span>
	</div>
	<div class="views-display">
            <span class="views-display"><a href="pg-movies.html" class="search-highlight">(PG) Movies</a></span>
	</div>
	<div class="views-display">
            <span class="search-display"><a href="pg-13-movies.html" class="search-highlight">(PG-13) Movies</a></span>
	</div>
	<div class="views-display">
            <span class="views-display"><a href="r-movies.html" class="search-highlight">(R) Movies</a></span>
	</div>
	<div class="views-display">
            <span class="views-display"><a href="unrated-movies.html" class="search-highlight">Unrated Movies</a></span>
	</div>
	<div class="views-display">
            <span class="views-display"><a href="tv-series.html" class="search-highlight">TV Series</a></span>
	</div>

	<div class="views-display">
            <span class="views-display"><a href="specials.html" class="search-highlight">TV Specials</a></span>
	</div>

	</div> <!-- About Container-->



    <header>


    </header>

  <div class="text-info-container">

<picture>
    <source media="(min-width: 480px)" srcset="most-aired-pics/Most-Viewed-Years-1-Top.png 800w" sizes="30vw">
    <img src="/most-aired-pics/Most-Viewed-Years-1-Top-small.png" alt="Feb 1, 89 Schedule" style="width: 100%; height: auto;">
</picture>

<h1>Most Aired Movies</h1>


<picture>
    <source media="(min-width: 480px)" srcset="most-aired-pics/Most-Viewed-Years-2-Bottom.png 800w" sizes="30vw">
    <img src="/most-aired-pics/Most-Viewed-Years-2-Bottom-small.png" alt="Feb 1, 89 Schedule" style="width: 100%; height: auto;">
</picture>

	<h2>These are all the movies that appeared on HBO in the 1980s, whether theatrical releases or made-for-TV, ranked by the amount of times aired.</h2>

<!--	Search Section -->

<h2>Search:</h2>
 <div class="Table-Header"> 
<input type="text" id="searchInput" placeholder="Enter search term..." spellcheck="false" autocomplete="off">
<button id="searchButton">Search</button>
<p></p>
    <span> Rows per page: </span> <select id="rowsPerPage">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="40">40</option>
        <option value="50">50</option>
	<option value="5000">All Rows</option>
    </select>
<p></p>
<div class="results-container">
<div id="searchResults">
<table id="dataTable">
    <thead>
      
	<tr>

		<th class="rankings-column">No.</th>
		<th class="most-aired-column">Most Aired</th>
		<th class="movies-column">Movies</th>
		<th class="times-aired-column">Times Aired</th>
		<th class="description-column">Description</th>
		<th class="ratings-column">Rating</th>
		<th class="runtime-column">Runtime</th>
		<th class="words-of-caution-column">Words of Caution</th>
		<th class="metadata-column">Metadata</th>

		</tr>
	</thead>
	<tbody>

<!-- Search Data -->


<tr>
     <td class="rankings-column">1175</td>
     <td class="most-aired-column">39th (tie)</td>
     <td class="movies-column">Starting Over</td>
     <td class="times-aired-column">12</td>
     <td class="words-of-description-column"><b>Burt Reynolds<br>Jill Clayburgh<br>Candice Bergen</b><br>The pain and ridiculous situations faced by a recently divorced man are depicted frankly in this upbeat romantic comedy. Burt Reynolds creates a real three-dimensional characterâ€”a frustrated writer searching for love and happiness. Jill Clayburgh and Candice Bergen were Oscar nominees as the women in his life. <q>Burt Reynolds' best</q> <i>(Washington Post)</i></td>
     <td class="ratings-column">(R)</td>
     <td class="runtime-column">1:46</td>
     <td class="words-of-caution-column"><i>Adult situations, profanity, nudity.</i></td>
     <td class="metadata-column">Alan J Pakula Burt Reynolds Jill Clayburgh Candice Bergen Charles Durning Frances Sternhagen Austin Pendleton</td>
</tr>




<!-- End Search Data -->

</tbody>
</table>
<div id="pagination"></div>

</div>
</div>
</div>
	</div> <!-- Text Info Container -->


<script>
document.addEventListener("DOMContentLoaded", function () {
    // ---- base elements
    const table = document.getElementById("dataTable");
    if (!table) return; // safety guard
    const tbody = table.tBodies[0];
    if (!tbody) return;

    const rows = Array.from(tbody.rows);
    const rowsPerPageDropdown = document.getElementById("rowsPerPage");
    const searchInput  = document.getElementById("searchInput");
    const searchButton = document.getElementById("searchButton");
    const pagination   = document.getElementById("pagination");

    // Outside message (for stacked/portrait mode)
    const noResults = document.createElement("div");
    noResults.id = "noResultsMsg";
    noResults.setAttribute("role", "status");
    noResults.setAttribute("aria-live", "polite");
    noResults.style.display = "none";
    noResults.style.textAlign = "center";
    noResults.style.fontStyle = "italic";
    noResults.style.padding = "0.75rem";
    table.parentNode.insertBefore(noResults, table.nextSibling);

    // Focus search field only on non-mobile devices
    if (!/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent) && searchInput) {
        searchInput.focus();
    }

    let currentPage = 1;
    let rowsPerPage = rowsPerPageDropdown ? parseInt(rowsPerPageDropdown.value) || 10 : 10;
    let filteredRows = rows.slice(); // Start with all rows

    // Detects stacked/portrait layout where <tr> isn't rendered as table-row
    function isStackedTable() {
        const first = tbody.rows[0];
        if (!first) return false;
        const disp = window.getComputedStyle(first).display;
        return disp !== "table-row";
    }

    function removeNoResultsRow() {
        const existing = document.getElementById("no-results-row");
        if (existing) existing.remove();
    }

    function addNoResultsRow() {
        const noResultRow = document.createElement("tr");
        noResultRow.id = "no-results-row";
        const td = document.createElement("td");
        td.colSpan = table.rows[0]?.cells.length || 1;
        td.style.textAlign = "center";
        td.style.fontStyle = "italic";
        td.style.padding = "0.75rem";
        td.textContent = "Sorry, no search results.";
        noResultRow.appendChild(td);
        tbody.appendChild(noResultRow);
    }

    function showNoResults() {
        if (isStackedTable()) {
            removeNoResultsRow();
            noResults.textContent = "Sorry, no search results.";
            noResults.style.display = "block";
        } else {
            noResults.style.display = "none";
            addNoResultsRow();
        }
    }

    function hideNoResults() {
        noResults.textContent = "";
        noResults.style.display = "none";
        removeNoResultsRow();
    }

    function displayRows() {
        const start = (currentPage - 1) * rowsPerPage;
        const end = start + rowsPerPage;

        rows.forEach(row => { row.style.display = "none"; });

        if (filteredRows.length === 0) {
            hideNoResults();
            showNoResults();
            if (pagination) pagination.innerHTML = "";
            return;
        }

        hideNoResults();

        filteredRows.forEach((row, index) => {
            const show = rowsPerPage >= 5000 || (index >= start && index < end);
            row.style.display = show ? "" : "none";
        });
    }

    function renderPagination() {
        if (!pagination) return;
        pagination.innerHTML = "";

        const totalPages = Math.ceil(filteredRows.length / rowsPerPage);
        if (filteredRows.length === 0 || totalPages <= 1) return;

        for (let i = 1; i <= totalPages; i++) {
            const pageLink = document.createElement("button");
            pageLink.textContent = i;
            pageLink.classList.add("page-link");
            if (i === currentPage) pageLink.classList.add("active");
            pageLink.addEventListener("click", function () {
                currentPage = i;
                displayRows();
                renderPagination();
                scrollToResultsAfterRender();
            });
            pagination.appendChild(pageLink);
        }
    }

    // --- helpers for scrolling ---
    const HEADER_OFFSET = 72; // adjust to your fixed/sticky header height (in px)

    function elementIsOnScreen(el) {
        if (!el) return true;
        const rect = el.getBoundingClientRect();
        const vh = window.innerHeight || document.documentElement.clientHeight;
        return rect.top >= 0 && rect.bottom <= vh;
    }

    function smoothScrollTo(el, offset = 0) {
        const rect = el.getBoundingClientRect();
        const y = rect.top + window.pageYOffset - offset;
        window.scrollTo({ top: y, behavior: "smooth" });
    }

    function scrollToResultsAfterRender() {
        // Defer until styles/layout apply
        setTimeout(() => {
            if (filteredRows.length === 0) {
                const target = isStackedTable() ? noResults : document.getElementById("no-results-row");
                if (target && !elementIsOnScreen(target)) {
                    smoothScrollTo(target, HEADER_OFFSET);
                }
                return;
            }

            // First row of the *current page*
            const start = (currentPage - 1) * rowsPerPage;
            const indexOnPage = Math.max(0, Math.min(start, filteredRows.length - 1));
            const target = filteredRows[indexOnPage];

            if (target && target.style.display !== "none" && !elementIsOnScreen(target)) {
                smoothScrollTo(target, HEADER_OFFSET);
            }
        }, 0);
    }

    function performSearch() {
        const filter = (searchInput?.value || "").toLowerCase().trim();

        if (!filter) {
            filteredRows = rows.slice();
        } else {
            filteredRows = rows.filter(row =>
                Array.from(row.cells).some(cell =>
                    cell.textContent.toLowerCase().includes(filter)
                )
            );
        }

        currentPage = 1;
        displayRows();
        renderPagination();

        // On mobile, collapse the keyboard before scrolling so the target isn't hidden
        const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        if (isMobile && document.activeElement === searchInput) {
            searchInput.blur();
            setTimeout(scrollToResultsAfterRender, 50); // small delay for iOS layout settle
        } else {
            scrollToResultsAfterRender();
        }
    }

    // --- listeners
    if (searchButton) searchButton.addEventListener("click", performSearch);
    if (searchInput) {
        searchInput.addEventListener("keydown", function (e) {
            if (e.key === "Enter") performSearch();
        });
    }

    if (rowsPerPageDropdown) {
        rowsPerPageDropdown.addEventListener("change", function () {
            rowsPerPage = parseInt(this.value) || rowsPerPage;
            currentPage = 1;
            displayRows();
            renderPagination();
            scrollToResultsAfterRender();
        });
    }

    // Initial render
    hideNoResults();
    displayRows();
    renderPagination();

    // Re-evaluate no-results placement on resize/orientation
    window.addEventListener("resize", () => {
        if (filteredRows.length === 0) showNoResults();
    });
});
</script>






</body>
</html>
